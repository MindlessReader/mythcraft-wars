# Shows the city editor dialog with current values pre-filled
# Parameters: $(currentName), $(currentVp), $(cityId), $(cityNum)
# Uses \u0024 to escape $(key) for dialog template substitution (preserved past mcfunction macros, resolved by SNBT parser)
$dialog show @s {type:"minecraft:multi_action",title:"Configure City $(cityNum)",pause:true,inputs:[{type:"minecraft:text",key:"name",label:"City Name",initial:"$(currentName)",max_length:32},{type:"minecraft:number_range",key:"vp",label:"Victory Points",start:1.0,end:5.0,step:1.0,initial:$(currentVp)}],columns:2,actions:[{label:{text:"Teleport Config",color:"aqua"},width:150,action:{type:"minecraft:run_command",command:"function mythcraft:config/edit/city_teleport {cityId:$(cityId),cityNum:$(cityNum)}"}},{label:{text:"Save",color:"green"},width:150,action:{type:"minecraft:dynamic/run_command",template:"function mythcraft:config/apply/city {cityId:$(cityId),name:\"\u0024(name)\",vp:\u0024(vp)}"}},{label:{text:"Back"},width:150,action:{type:"minecraft:run_command",command:"function mythcraft:config/show/cities_menu"}}]}
